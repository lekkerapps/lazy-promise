export class LazyPromise extends Promise{constructor(fn){super(()=>{});if(typeof fn!=='function'){throw new TypeError('A function should be used for constructor');}this._fn=fn;}then(){this.promise=this.promise||new Promise(this._fn);return this.promise.then.apply(this.promise,arguments);}}